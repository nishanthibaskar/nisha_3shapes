apiVersion: v1
kind: Service
metadata:
    name: 3-shapes-service
spec:
    selector:
       app: 3-shapes-app
    ports:
      - protocol: "TCP"
        port: 80
        targetPort: 8080
    type: LoadBalancer

---

apiVersion: apps/v1
kind: Deployment
metadata:
     name: 3-shapes-app
     labels:
        app: 3-shapes-app
spec:
   selector:
      matchLabels:
        app: 3-shapes-app
   replicas: 1
   template:
      metadata:
         labels:
            app: 3-shapes-app
      spec:
        containers:
          - name: 3-shapes-app
            image: 514924332194.dkr.ecr.eu-north-1.amazonaws.com/nisha3shapes:3_shapes
            imagePullPolicy: Always
            ports:
            - containerPort: 8080